<div class="main-container">
  <div class="cards">
    @if (department) {
    <h2>{{ department.name }}</h2>

    <mat-card>
      <div class="employee-input">
        <mat-form-field appearance="outline">
          <mat-label>Employee Name</mat-label>
          <input matInput [formControl]="employeeNameFC" type="text" />

          @if (employeeNameFC.hasError('duplicate')) {
          <mat-error>Duplicate Name</mat-error>
          }
        </mat-form-field>

        <button mat-mini-fab (click)="addEmployee()" [disabled]="employeeNameFC.invalid">
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </mat-card>

    <mat-card class="hours">
      <table>
        <thead>
          <th>Name</th>
          @for (day of weekdays; track $index) {
          <th>{{ day }}</th>
          }
          <th>Total Hours</th>
          <th></th>
        </thead>

        <tbody>
          @for (employee of employees; track $index) {
          <tr>
            <td>{{ employee.name }}</td>
            @for (day of weekdays; track $index) {
            <td>
              <input
                type="number"
                [id]="day"
                [(ngModel)]="employee[day.toLowerCase()]"
                class="hours-input"
              />
            </td>
            }
            <td class="total-cell">{{ getTotalHours(employee) }}</td>

            <td>
              <button mat-icon-button (click)="deleteEmployee($index)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </mat-card>
    }
  </div>
</div>
